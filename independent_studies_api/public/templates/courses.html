<div ng-controller="coursesCtrl">
    <div class="section" style="padding: 10px;">
        <div style="display: inline-block;">
            <h4>Search</h4>
            <form>
                <div ng-repeat="tagset in tags" style="display: inline-block; vertical-align: top; padding: 5px; margin-right: 10px; margin-bottom: 10px; background-color: lightgray;">
                    <span ng-bind="tagset.category"></span>
                    <div ng-repeat="option in tagset.options">
                        <input type="checkbox" ng-checked="searchTags.indexOf(option.id) !== -1"
                               ng-model="option.toggleState" ng-change="toggleTag(option.id)" />
                        <span ng-bind="option.text"></span></div>
                </div>
                <p><a href="javascript:" ng-click="refreshCourses()">Apply</a></p>
            </form>
        </div>
    </div>
    <div class="section">
        <div ng-repeat="c in courses" style="border: 1px solid black; padding: 15px;">
            <div style="display: inline-block; vertical-align: top; padding-right: 10px;">
                <div ng-show="sessionData.userIsLoggedIn && !c.enrolled" style="width: 90px; margin-bottom: 10px; margin-left: 0px; text-align: center;" class="button" ng-click="createEnrollment($index, c.id)">Enroll</div>
                <div ng-show="c.enrolled" style="margin-bottom: 10px; text-align: center;"><a href="#/dashboard">Enrolled</a></div>
                <div>
                    <img src="https://s3-us-west-2.amazonaws.com/independent-studies/course_images/{{c.img}}" width="100px" height="auto" />
                </div>
            </div>
            <div style="display: inline-block; max-width: 750px; vertical-align: top;">
                <h3 style="margin-top: 0px;"><a href="{{c.url}}"><span ng-bind="c.title"></span></a></h3>
                <p ng-show="c.author">Author: <span ng-bind="c.author"></span></p>
                <p ng-show="c.publisher">Publisher: <span ng-bind="c.publisher"></span></p>
                <p ng-bind-html-unsafe="c.description"></p>
                <br style="clear: both;" />
            </div>
        </div>
    </div>
</div>
